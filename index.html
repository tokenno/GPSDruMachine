<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GPSDruMachine</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: #f0f0f0; }
    .container { max-width: 800px; margin: auto; background: white; padding: 20px; border-radius: 8px; }
    .status { margin-bottom: 20px; padding: 10px; border-radius: 4px; }
    .status.success { background: #d4edda; color: #155724; }
    .status.error { background: #f8d7da; color: #721c24; }
    .controls, .settings, .navigation { margin: 20px 0; }
    .control-group { margin-bottom: 15px; }
    button { padding: 10px; margin: 5px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; }
    button:hover { background: #0056b3; }
    input[type=range] { width: 100%; }
    select { padding: 5px; margin: 5px; }
    video { display: none; width: 100%; max-width: 300px; margin-top: 10px; }
    .hidden { display: none; }
    .compass-container { text-align: center; }
    .compass-container svg { width: 200px; height: 200px; }
    .distance-display { font-size: 1.2em; margin-top: 10px; }
    footer { margin-top: 20px; text-align: center; }
  </style>
</head>
<body>
  <div class="container">
    <h1>GPSynthesizer</h1>
    <p>A web-based drum machine generating Euclidean rhythms modulated by real-world inputs.</p>

    <div class="status" id="status">Status: Ready</div>

    <section class="controls">
      <h2>Sensor Controls</h2>
      <div class="control-group">
        <h3>General Controls</h3>
        <button id="testBtn">Test Audio</button>
        <button id="lockBtn">Lock GPS</button>
        <button id="stopBtn">Stop Audio</button>
        <button id="toggleDirectionBtn">Invert Tempo</button>
      </div>

      <div class="control-group">
        <h3>Orientation</h3>
        <button id="orientationBtn">Toggle Orientation</button>
      </div>

      <div class="control-group">
        <h3>Accelerometer</h3>
        <button id="motionBtn">Toggle Accelerometer</button>
      </div>

      <div class="control-group">
        <h3>Camera</h3>
        <button id="cameraBtn">Toggle Camera</button>
        <video id="video" autoplay class="hidden"></video>
      </div>

      <div class="control-group">
        <h3>Light Sensor</h3>
        <button id="lightSensorBtn">Toggle Light Sensor</button>
      </div>

      <div class="control-group">
        <h3>Microphone</h3>
        <button id="micBtn">Toggle Microphone</button>
      </div>
    </section>

    <section class="settings">
      <h2>Drum Machine Settings</h2>
      <div class="control-group">
        <label for="tempo">Tempo (BPM)</label>
        <span id="tempoValue">120 BPM</span>
      </div>
      <div class="control-group">
        <label for="kickPulses">Kick Pulses</label>
        <input type="range" id="kickPulses" min="1" max="8" value="4" aria-valuenow="4">
        <span id="kickPulsesValue">4 pulses</span>
      </div>
      <div class="control-group">
        <label for="snarePulses">Snare Pulses</label>
        <input type="range" id="snarePulses" min="1" max="8" value="2" aria-valuenow="2">
        <span id="snarePulsesValue">2 pulses</span>
      </div>
      <div class="control-group">
        <label for="hihatPulses">Hi-Hat Pulses</label>
        <input type="range" id="hihatPulses" min="1" max="8" value="8" aria-valuenow="8">
        <span id="hihatPulsesValue">8 pulses</span>
      </div>
      <div class="control-group">
        <label for="distanceBand">Distance Band (meters)</label>
        <select id="distanceBand">
          <option value="10">10 meters</option>
          <option value="50" selected>50 meters</option>
          <option value="100">100 meters</option>
        </select>
      </div>
    </section>

    <section class="navigation">
      <h2>Navigation</h2>
      <div class="compass-container" id="compass-section" style="display: none;">
        <svg id="compass" viewBox="0 0 200 200">
          <circle cx="100" cy="100" r="90" fill="none" stroke="#000" stroke-width="5"/>
          <path id="direction-arrow" d="M100,20 L90,40 L110,40 Z" fill="red"/>
        </svg>
        <div class="distance-display" id="distance-display">0m</div>
      </div>
    </section>

    <footer>
      <a href="http://tokeno.net">tokeno.net</a> |
      <a href="https://github.com">Github</a>
    </footer>
  </div>

  <script src="fm-synth.js"></script>
</body>
</html>